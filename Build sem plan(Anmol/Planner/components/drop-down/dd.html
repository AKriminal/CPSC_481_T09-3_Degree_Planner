<style>
    /* Course Card Styling - Sleeker Version */
    .course-card {
        border-radius: 6px;
        background: white;
        border-left: 3px solid #0064A4; /* UCalGary blue */
        padding: 14px 18px;
        margin-bottom: 12px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.08);
        position: relative;
        transition: all 0.15s ease;
    }
    
    .course-card:hover {
        box-shadow: 0 2px 5px rgba(0,0,0,0.12);
        transform: translateY(-1px);
    }
    
    .course-header {
        display: flex;
        align-items: center;
        margin-bottom: 3px;
    }
    
    .course-code {
        font-size: 18px;
        font-weight: 700;
        color: #0064A4; /* UCalGary blue */
        margin-right: 10px;
        cursor: pointer;
    }
    
    .course-code:hover {
        text-decoration: underline;
    }
    
    .badge-required {
        background-color: #E6F3FF; /* Light blue */
        color: #0064A4;
        font-size: 13px;
        padding: 3px 10px;
        border-radius: 16px;
        font-weight: 500;
    }
    
    .badge-planned {
        background-color: #E6F5F2; /* Light teal */
        color: #17a2b8;
        font-size: 13px;
        padding: 3px 10px;
        border-radius: 16px;
        font-weight: 500;
    }
    
    .course-title {
        font-size: 16px;
        font-weight: 400;
        color: #333;
        margin: 6px 0 12px 0;
    }
    
    .term-selector {
        position: relative;
        width: 100%;
        margin-top: 3px;
    }
    
    .select-term {
        width: 100%;
        padding: 8px 14px;
        border-radius: 6px;
        border: 1px solid #dee2e6;
        font-size: 14px;
        color: #495057;
        background-color: white;
        cursor: pointer;
        text-align: left;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
    }
    
    .select-term.active {
        background-color: #f8a356; /* Orange */
        color: white;
        border-color: #f8a356;
    }
    
    .select-term::after {
        content: '▼';
        position: absolute;
        right: 12px;
        top: 10px;
        pointer-events: none;
        font-size: 10px;
    }
    
    .term-dropdown {
        position: absolute;
        width: 100%;
        max-height: 0;
        overflow: hidden;
        border-radius: 6px;
        margin-top: 1px;
        background-color: #4a4a4a;
        z-index: 10;
        transition: max-height 0.2s ease;
    }
    
    .term-dropdown.show {
        max-height: 300px;
        box-shadow: 0 3px 6px rgba(0,0,0,0.16);
    }
    
    .term-option {
        padding: 8px 14px;
        font-size: 14px;
        color: white;
        cursor: pointer;
        transition: background-color 0.15s;
    }
    
    .term-option:hover {
        background-color: #5a5a5a;
    }
    
    .add-button {
        background-color: #0064A4; /* UCalGary blue */
        color: white;
        border: none;
        border-radius: 4px;
        padding: 8px 16px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.15s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .add-button:disabled {
        background-color: #a9c8de;
        cursor: not-allowed;
    }
    
    .add-button:not(:disabled):hover {
        background-color: #00497a;
    }
    
    .add-button i {
        margin-right: 5px;
    }
    
    .input-group {
        display: flex;
        gap: 8px;
    }
    
    .remove-button {
        background-color: #e74c3c;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 8px 16px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.15s ease;
        display: flex;
        align-items: center;
    }
    
    .remove-button:hover {
        background-color: #c0392b;
    }
    
    .planned-tag {
        position: absolute;
        top: 12px;
        right: 16px;
        background-color: #E6F5F2;
        color: #17a2b8;
        font-size: 13px;
        padding: 3px 10px;
        border-radius: 16px;
        font-weight: 500;
    }
</style>

<!-- State 1: Regular Course Card -->
<div class="course-card" id="cpsc231-card">
    <div class="course-header">
        <div class="course-code" onclick="showCourseDetails('CPSC 231')">CPSC 231</div>
        <div class="badge-required">Required Course</div>
    </div>
    <h3 class="course-title">Introduction to Computer Science I</h3>
    
    <div class="term-selector" id="term-selector">
        <button class="select-term" onclick="toggleDropdown()">Select term...</button>
        <div class="term-dropdown" id="term-dropdown">
            <div class="term-option" onclick="selectTerm('Fall 2025')">Fall 2025</div>
            <div class="term-option" onclick="selectTerm('Winter 2026')">Winter 2026</div>
            <div class="term-option" onclick="selectTerm('Spring 2026')">Spring 2026</div>
        </div>
    </div>
    
    <div style="text-align: right; margin-top: 12px;">
        <button class="add-button" onclick="addCourse()" disabled id="add-button">
            + Add
        </button>
    </div>
</div>

<!-- State 2: Course Card with Term Selected -->
<div class="course-card" style="display: none;" id="cpsc231-selected">
    <div class="course-header">
        <div class="course-code" onclick="showCourseDetails('CPSC 231')">CPSC 231</div>
        <div class="badge-required">Required Course</div>
    </div>
    <h3 class="course-title">Introduction to Computer Science I</h3>
    
    <div class="term-selector">
        <button class="select-term active" onclick="toggleDropdown()">
            <span id="selected-term-text">Select term...</span>
        </button>
        <div class="term-dropdown" id="term-dropdown-selected">
            <div class="term-option" onclick="selectTerm('Fall 2025')">Fall 2025</div>
            <div class="term-option" onclick="selectTerm('Winter 2026')">Winter 2026</div>
            <div class="term-option" onclick="selectTerm('Spring 2026')">Spring 2026</div>
        </div>
    </div>
    
    <div style="text-align: right; margin-top: 12px;">
        <button class="add-button" onclick="addCourse()" id="add-button-selected">
            + Add
        </button>
    </div>
</div>

<!-- State 3: Planned Course Card -->
<div class="course-card" style="display: none;" id="cpsc231-planned">
    <div class="planned-tag" id="planned-term-tag">Planned: Winter 2026</div>
    <div class="course-header">
        <div class="course-code" onclick="showCourseDetails('CPSC 231')">CPSC 231</div>
        <div class="badge-required">Required Course</div>
    </div>
    <h3 class="course-title">Introduction to Computer Science I</h3>
    
    <div>
        <button class="remove-button" onclick="removeCourse()">
            ✕ Remove
        </button>
    </div>
</div>

<script>
    // Variables
    let selectedTerm = "";
    let currentState = "initial"; // initial, selected, planned
    
    // Toggle dropdown visibility
    function toggleDropdown() {
        const dropdown = document.getElementById('term-dropdown');
        const dropdownSelected = document.getElementById('term-dropdown-selected');
        
        if (currentState === "initial") {
            dropdown.classList.toggle('show');
        } else if (currentState === "selected") {
            dropdownSelected.classList.toggle('show');
        }
    }
    
    // Select a term
    function selectTerm(term) {
        selectedTerm = term;
        document.getElementById('selected-term-text').textContent = term;
        
        // Hide dropdowns
        document.getElementById('term-dropdown').classList.remove('show');
        document.getElementById('term-dropdown-selected').classList.remove('show');
        
        // Enable add button
        document.getElementById('add-button').disabled = false;
        
        // Switch to selected state
        if (currentState === "initial") {
            currentState = "selected";
            document.getElementById('cpsc231-card').style.display = "none";
            document.getElementById('cpsc231-selected').style.display = "block";
        }
    }
    
    // Add course to plan
    function addCourse() {
        currentState = "planned";
        document.getElementById('cpsc231-card').style.display = "none";
        document.getElementById('cpsc231-selected').style.display = "none";
        document.getElementById('cpsc231-planned').style.display = "block";
        document.getElementById('planned-term-tag').textContent = "Planned: " + selectedTerm;
    }
    
    // Remove course from plan
    function removeCourse() {
        currentState = "initial";
        selectedTerm = "";
        document.getElementById('cpsc231-card').style.display = "block";
        document.getElementById('cpsc231-selected').style.display = "none";
        document.getElementById('cpsc231-planned').style.display = "none";
        document.getElementById('add-button').disabled = true;
    }
    
    // Show course details (placeholder function)
    function showCourseDetails(courseCode) {
        alert("Future feature: Show details for " + courseCode);
    }
    
    // Close dropdowns when clicking outside
    window.onclick = function(event) {
        if (!event.target.matches('.select-term')) {
            document.getElementById('term-dropdown').classList.remove('show');
            document.getElementById('term-dropdown-selected').classList.remove('show');
        }
    }
</script>